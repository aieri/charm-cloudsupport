charm_name: cloudsupport
tests:
 - tests.modules.test_cloudsupport.CloudSupportTests
gate_bundles:
  - focal
  - focal-ovn
dev_bundles:
  - focal
smoke_bundles:
  - focal
before_deploy:
- tests.modules.setup.model_config
configure:
- zaza.openstack.charm_tests.vault.setup.auto_initialize
target_deploy_status:
  vault:
    workload-status: blocked
    workload-status-message: Vault needs to be initialized
  neutron-api-plugin-ovn:
    workload-status: waiting
    workload-status-message: "'certificates' awaiting server certificate data, 'ovsdb-cms' incomplete"
  ovn-central:
    workload-status: waiting
    workload-status-message: "'ovsdb-peer' incomplete, 'certificates' awaiting server certificate data"
  ovn-chassis:
    workload-status: waiting
    workload-status-message: "'certificates' awaiting server certificate data"
  ovn-chassis-octavia:
    workload-status: waiting
    workload-status-message: "'certificates' awaiting server certificate data"